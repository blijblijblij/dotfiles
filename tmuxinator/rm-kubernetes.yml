# /Users/rogier/.config/tmuxinator/rm-kubernetes.yml

name: rm-kubernetes
root: ~/git/rm-kubernetes

pre_window:
  - export AWS_PROFILE=reelmetrics
  - export KUBECONFIG=$HOME/.kube/reelmetrics/config-reelmetrics

windows:
  - editor: vim .
  - production: watch -n 10 kubectl get all --namespace=production
  - acceptance: watch -n 120 kubectl get all --namespace=acceptance
  - integration: watch -n 120 kubectl get all --namespace=integration
  - intranet: watch -n 120 kubectl get all --namespace=intranet
  - kube-system: watch -n 120 kubectl get all --namespace=kube-system
  - ingress-nginx: watch -n 120 kubectl get all --namespace=ingress-nginx
  - proxy: 
      layout: main-horizontal
      panes:
        - kubectl -n kube-system describe secret $(kubectl -n kube-system get secret | grep admin-user | awk '{print $1}')
        - kubectl proxy --port=8001
